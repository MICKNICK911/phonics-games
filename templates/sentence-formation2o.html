<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Modern Sentence Formation App</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary: #4361ee;
      --primary-dark: #3a0ca3;
      --secondary: #f72585;
      --accent: #4cc9f0;
      --success: #57cc99;
      --danger: #ff6b6b;
      --dark-bg: #0f172a;
      --dark-card: #1e293b;
      --dark-border: #334155;
      --light-text: #f1f5f9;
      --light-muted: #94a3b8;
    }
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
      background: var(--dark-bg);
      color: var(--light-text);
      line-height: 1.6;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 16px;
    }
    
    .app-container {
      width: 100%;
      max-width: 1400px;
      height: 95vh;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }
    
    @media (min-width: 789px) {
      .app-container {
        display: grid;
        grid-template-columns: 1.5fr 1fr;
        grid-template-rows: auto 1fr;
        gap: 20px;
        height: 90vh;
      }
      
      .display-section {
        grid-column: 1;
        grid-row: 1;
      }
      
      .input-section {
        grid-column: 1;
        grid-row: 2;
        overflow: auto;
        color: red;
      }
      
      .saved-section {
        grid-column: 2;
        grid-row: 1 / span 2;
      }
    }
    
    .card {
      background: var(--dark-card);
      border-radius: 16px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.4);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      border: 1px solid var(--dark-border);
    }
    
    .card-header {
      padding: 18px 24px;
      border-bottom: 1px solid var(--dark-border);
      display: flex;
      align-items: center;
      gap: 12px;
      font-weight: 600;
      font-size: 1.2rem;
      color: var(--accent);
    }
    
    .card-content {
      padding: 20px;
      flex: 1;
      display: flex;
      flex-direction: column;
    }
    
    .display-section .card-content {
      justify-content: center;
      align-items: center;
    }
    
    .sentence-display {
      width: 100%;
      background: rgba(30, 41, 59, 0.8);
      border-radius: 12px;
      padding: 25px;
      text-align: center;
      border: 1px solid var(--dark-border);
      box-shadow: inset 0 2px 10px rgba(0, 0, 0, 0.3);
    }
    
    #text-container {
      font-size: 2.4rem;
      font-weight: 600;
      line-height: 1.4;
      min-height: 120px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--light-text);
      padding: 10px;
    }
    
    .input-controls {
      display: flex;
      gap: 12px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }
    
    .input-field-container {
      position: relative;
      flex: 1;
      min-width: 250px;
    }
    
    #input-field {
      width: 100%;
      padding: 16px 20px;
      background: rgba(30, 41, 59, 0.7);
      border: 1px solid var(--dark-border);
      border-radius: 12px;
      color: var(--light-text);
      font-size: 1rem;
      transition: all 0.3s ease;
    }
    
    #input-field:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.3);
    }
    
    #input-field::placeholder {
      color: var(--light-muted);
    }
    
    #process-button {
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 12px;
      padding: 0 24px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      min-width: 120px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }
    
    #process-button:hover {
      background: var(--primary-dark);
      transform: translateY(-2px);
    }
    
    #process-button:active {
      transform: translateY(0);
    }
    
    #button-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
      gap: 12px;
      flex: 1;
      overflow: auto;
      padding: 5px;
      color: red;
    }
    
    .word-button {
      background: rgba(30, 41, 59, 0.7);
      color: var(--light-text);
      border: 1px solid var(--dark-border);
      border-radius: 10px;
      padding: 15px 5px;
      font-size: 1.1rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      min-height: 70px;
    }
    
    .word-button:hover {
      background: rgba(67, 97, 238, 0.2);
      transform: translateY(-3px);
      border-color: var(--primary);
    }
    
    .word-button.punctuation {
      background: rgba(247, 37, 133, 0.15);
    }
    
    .action-buttons {
      display: flex;
      gap: 12px;
      margin-top: 20px;
      flex-wrap: wrap;
    }
    
    .action-btn {
      flex: 1;
      min-width: 120px;
      padding: 14px;
      border: none;
      border-radius: 12px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }
    
    #clear-button {
      background: rgba(255, 107, 107, 0.15);
      color: var(--danger);
      border: 1px solid rgba(255, 107, 107, 0.3);
    }
    
    #clear-button:hover {
      background: rgba(255, 107, 107, 0.25);
    }
    
    #save-button {
      background: rgba(87, 204, 153, 0.15);
      color: var(--success);
      border: 1px solid rgba(87, 204, 153, 0.3);
    }
    
    #save-button:hover {
      background: rgba(87, 204, 153, 0.25);
    }
    
    #slideshow-button {
      background: rgba(247, 37, 133, 0.15);
      color: var(--secondary);
      border: 1px solid rgba(247, 37, 133, 0.3);
    }
    
    #slideshow-button:hover {
      background: rgba(247, 37, 133, 0.25);
    }
    
    .saved-container {
      display: flex;
      flex-direction: column;
      height: 100%;
    }
    
    .saved-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }
    
    #saved-count {
      background: var(--primary);
      color: white;
      padding: 4px 12px;
      border-radius: 20px;
      font-size: 0.9rem;
      font-weight: 500;
    }
    
    .saved-list {
      flex: 1;
      overflow-y: auto;
      background: rgba(30, 41, 59, 0.5);
      border-radius: 12px;
      padding: 15px;
    }
    
    #correct-words-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    
    #correct-words-list li {
      margin: 12px 0;
      padding: 16px;
      background: rgba(30, 41, 59, 0.7);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      cursor: pointer;
      transition: all 0.2s ease;
      border-left: 3px solid var(--primary);
    }
    
    #correct-words-list li:hover {
      transform: translateX(5px);
      background: rgba(67, 97, 238, 0.15);
    }
    
    .sentence-text {
      flex: 1;
      font-size: 1.1rem;
    }
    
    .sentence-actions {
      display: flex;
      gap: 8px;
    }
    
    .sentence-btn {
      background: none;
      border: none;
      cursor: pointer;
      font-size: 1.1rem;
      padding: 6px;
      border-radius: 8px;
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
    }
    
    .edit-button {
      color: var(--accent);
      background: rgba(76, 201, 240, 0.1);
    }
    
    .edit-button:hover {
      background: rgba(76, 201, 240, 0.2);
    }
    
    .delete-button {
      color: var(--danger);
      background: rgba(255, 107, 107, 0.1);
    }
    
    .delete-button:hover {
      background: rgba(255, 107, 107, 0.2);
    }
    
    .empty-message {
      text-align: center;
      padding: 30px 20px;
      color: var(--light-muted);
      font-style: italic;
    }
    
    /* Slideshow Styles */
    #slideshow-container {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(15, 23, 42, 0.98);
      justify-content: center;
      align-items: center;
      flex-direction: column;
      z-index: 1000;
    }
    
    #slideshow-text {
      font-size: 3.5rem;
      color: white;
      text-align: center;
      padding: 40px;
      max-width: 90%;
      font-weight: 700;
      line-height: 1.4;
      text-shadow: 0 2px 20px rgba(0, 0, 0, 0.5);
    }
    
    #slideshow-controls {
      display: flex;
      gap: 15px;
      margin-top: 30px;
      background: rgba(30, 41, 59, 0.7);
      padding: 15px;
      border-radius: 50px;
      backdrop-filter: blur(10px);
      border: 1px solid var(--dark-border);
    }
    
    #slideshow-controls button {
      width: 60px;
      height: 60px;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      font-size: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      background: rgba(67, 97, 238, 0.2);
      color: white;
    }
    
    #slideshow-controls button:hover {
      transform: scale(1.1);
      background: var(--primary);
    }
    
    #slide-indicator {
      color: var(--light-muted);
      font-size: 1.2rem;
      margin-top: 20px;
      background: rgba(30, 41, 59, 0.7);
      padding: 8px 20px;
      border-radius: 20px;
      font-weight: 500;
    }
    
    /* Responsive Adjustments */
    @media (max-width: 768px) {
      .input-section {
        overflow: auto;
      }

      .app-container {
        height: auto;
        min-height: 95vh;
      }
      
      #text-container {
        font-size: 1.8rem;
      }
      
      .input-controls {
        flex-direction: column;
      }
      
      .action-buttons {
        flex-direction: column;
      }
      
      .action-btn {
        width: 100%;
      }
      
      #slideshow-text {
        font-size: 2.2rem;
      }
      
      #slideshow-controls button {
        width: 50px;
        height: 50px;
        font-size: 20px;
      }
    }
    
    @media (max-width: 480px) {
      #text-container {
        font-size: 1.5rem;
      }
      
      #button-grid {
        grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
      }
      
      .word-button {
        min-height: 60px;
        font-size: 1rem;
      }
      
      #slideshow-text {
        font-size: 1.8rem;
      }
    }
    
    /* Scrollbar Styling */
    ::-webkit-scrollbar {
      width: 8px;
    }
    
    ::-webkit-scrollbar-track {
      background: rgba(0, 0, 0, 0.1);
      border-radius: 4px;
    }
    
    ::-webkit-scrollbar-thumb {
      background: var(--primary);
      border-radius: 4px;
    }
    
    ::-webkit-scrollbar-thumb:hover {
      background: var(--primary-dark);
    }
    
    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .fade-in {
      animation: fadeIn 0.4s ease forwards;
    }
    
    .pulse {
      animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
      0% { box-shadow: 0 0 0 0 rgba(67, 97, 238, 0.4); }
      70% { box-shadow: 0 0 0 12px rgba(67, 97, 238, 0); }
      100% { box-shadow: 0 0 0 0 rgba(67, 97, 238, 0); }
    }
  </style>
</head>
<body>
  <div class="app-container">
    <!-- Sentence Display Section -->
    <section class="display-section card">
      <div class="card-header">
        <i class="fas fa-file-alt"></i>
        <span>Current Sentence</span>
      </div>
      <div class="card-content">
        <div class="sentence-display">
          <div id="text-container">Create your sentence here...</div>
        </div>
      </div>
    </section>
    
    <!-- Word Input Section -->
    <section class="input-section card">
      <div class="card-header">
        <i class="fas fa-edit"></i>
        <span>Sentence Formation</span>
      </div>
      <div class="card-content">
        <div class="input-controls">
          <div class="input-field-container">
            <input 
              type="text" 
              id="input-field" 
              placeholder="Enter words separated by comma (e.g., cat, dog, runs)"
              aria-label="Enter words separated by commas"
              maxlength="100"
            >
          </div>
          <button id="process-button">
            <i class="fas fa-cogs"></i>
            Process
          </button>
        </div>
        
        <div id="button-grid"></div>
        
        <div class="action-buttons">
          <button class="action-btn" id="clear-button">
            <i class="fas fa-trash-alt"></i>
            Clear
          </button>
          <button class="action-btn" id="save-button">
            <i class="fas fa-save"></i>
            Save
          </button>
          <button class="action-btn" id="slideshow-button">
            <i class="fas fa-film"></i>
            Slideshow
          </button>
        </div>
      </div>
    </section>
    
    <!-- Saved Sentences Section -->
    <section class="saved-section card">
      <div class="card-header">
        <div class="saved-header">
          <div>
            <i class="fas fa-book"></i>
            <span>Saved Sentences</span>
          </div>
          <div id="saved-count">0 saved</div>
        </div>
      </div>
      <div class="card-content">
        <div class="saved-container">
          <div class="saved-list">
            <ol id="correct-words-list"></ol>
          </div>
        </div>
      </div>
    </section>
  </div>

  <!-- Slideshow Container -->
  <div id="slideshow-container">
    <div id="slideshow-text"></div>
    <div id="slideshow-controls">
      <button id="prev-button" aria-label="Previous slide">
        <i class="fas fa-arrow-left"></i>
      </button>
      <button id="mode-toggle" aria-label="Toggle mode">
        <i class="fas fa-sync"></i>
      </button>
      <button id="next-button" aria-label="Next slide">
        <i class="fas fa-arrow-right"></i>
      </button>
      <button id="pause-resume-button" aria-label="Pause slideshow">
        <i class="fas fa-pause"></i>
      </button>
      <button id="stop-slideshow-button" aria-label="Stop slideshow">
        <i class="fas fa-stop"></i>
      </button>
    </div>
    <div id="slide-indicator">1/0</div>
  </div>

  <script>
    // DOM Elements
    const textContainer = document.getElementById('text-container');
    const inputField = document.getElementById('input-field');
    const buttonGrid = document.getElementById('button-grid');
    const processButton = document.getElementById('process-button');
    const clearButton = document.getElementById('clear-button');
    const saveButton = document.getElementById('save-button');
    const slideshowButton = document.getElementById('slideshow-button');
    const correctWordsList = document.getElementById('correct-words-list');
    const savedCount = document.getElementById('saved-count');
    const slideshowContainer = document.getElementById('slideshow-container');
    const slideshowText = document.getElementById('slideshow-text');
    const pauseResumeButton = document.getElementById('pause-resume-button');
    const stopSlideshowButton = document.getElementById('stop-slideshow-button');
    const prevButton = document.getElementById('prev-button');
    const nextButton = document.getElementById('next-button');
    const modeToggle = document.getElementById('mode-toggle');
    const slideIndicator = document.getElementById('slide-indicator');

    // State Variables
    let sentences = loadSentences();
    let slideshowInterval = null;
    let slideshowIndex = 0;
    let isSlideshowPaused = false;
    let isProcessing = false;
    let isAutoMode = true;

    // Constants
    const MAX_WORDS = 20;
    const MAX_INPUT_LENGTH = 100;
    const SLIDESHOW_INTERVAL = 3000; // 3 seconds

    // Load sentences from local storage
    function loadSentences() {
      try {
        const saved = localStorage.getItem('sentences');
        const data = saved ? JSON.parse(saved) : [];
        updateSavedCount(data.length);
        return data;
      } catch (e) {
        showMessage('Error loading saved sentences. Starting fresh.');
        return [];
      }
    }

    // Save sentences to local storage
    function saveSentences() {
      try {
        localStorage.setItem('sentences', JSON.stringify(sentences));
        updateSavedCount(sentences.length);
      } catch (e) {
        showMessage('Failed to save sentences. Storage may be full.');
      }
    }
    
    // Update saved count display
    function updateSavedCount(count) {
      savedCount.textContent = `${count} saved`;
      slideshowButton.disabled = count === 0;
    }

    // Show message
    function showMessage(message) {
      // In a real app, you might use a toast notification
      console.log(message);
    }

    // Validate input
    function validateInput(input) {
      if (!input || input.trim() === '') {
        return 'Input cannot be empty.';
      }
      if (input.length > MAX_INPUT_LENGTH) {
        return `Input exceeds ${MAX_INPUT_LENGTH} characters.`;
      }
      const words = input.split(',').map(word => word.trim()).filter(word => word);
      if (words.length > MAX_WORDS) {
        return `Too many words. Maximum ${MAX_WORDS} allowed.`;
      }
      const uniqueWords = new Set(words);
      if (uniqueWords.size < words.length) {
        return 'Duplicate words detected. Each word must be unique.';
      }
      if (words.some(word => word.length > 20)) {
        return 'Individual words cannot exceed 20 characters.';
      }
      return null;
    }

    // Generate word buttons
    function generateButtons(words) {
      buttonGrid.innerHTML = '';
      const punctuation = ['.', '?', '!', ',', ';', ':', '-', '...'];
      
      // Add word buttons
      words.forEach(word => {
        const button = document.createElement('button');
        button.classList.add('word-button');
        button.textContent = word;
        button.setAttribute('aria-label', `Add ${word} to sentence`);
        button.addEventListener('click', () => {
          addToSentence(word);
        });
        buttonGrid.appendChild(button);
      });
      
      // Add punctuation buttons
      punctuation.forEach(punc => {
        const button = document.createElement('button');
        button.classList.add('word-button', 'punctuation');
        button.textContent = punc;
        button.setAttribute('aria-label', `Add ${punc} to sentence`);
        button.addEventListener('click', () => {
          addToSentence(punc);
        });
        buttonGrid.appendChild(button);
      });
    }
    
    // Add word to sentence
    function addToSentence(word) {
      const currentText = textContainer.textContent;
      
      // Handle initial empty state
      if (currentText === 'Create your sentence here...') {
        textContainer.textContent = '';
      }
      
      // Handle punctuation
      if (['.', '?', '!', ',', ';', ':', '-', '...'].includes(word)) {
        textContainer.textContent = currentText + word;
      } else {
        // Add space before new words if not the first word
        const separator = currentText.length > 0 ? ' ' : '';
        textContainer.textContent = currentText + separator + word;
      }
      
      // Capitalize first letter
      if (textContainer.textContent.length > 0) {
        const firstChar = textContainer.textContent.charAt(0).toUpperCase();
        const rest = textContainer.textContent.slice(1);
        textContainer.textContent = firstChar + rest;
      }
    }

    // Render saved sentences
    function renderSentences() {
      correctWordsList.innerHTML = '';
      if (sentences.length === 0) {
        const emptyMsg = document.createElement('div');
        emptyMsg.classList.add('empty-message');
        emptyMsg.textContent = 'No saved sentences yet. Create and save some sentences to see them here.';
        correctWordsList.appendChild(emptyMsg);
        return;
      }
      
      sentences.forEach((sentence, index) => {
        const li = document.createElement('li');
        li.classList.add('fade-in');
        
        const textSpan = document.createElement('span');
        textSpan.classList.add('sentence-text');
        textSpan.textContent = sentence;
        li.appendChild(textSpan);
        
        // Sentence actions
        const actionsDiv = document.createElement('div');
        actionsDiv.classList.add('sentence-actions');
        
        // Edit Button
        const editButton = document.createElement('button');
        editButton.classList.add('sentence-btn', 'edit-button');
        editButton.innerHTML = '<i class="fas fa-edit"></i>';
        editButton.setAttribute('aria-label', `Edit sentence: ${sentence}`);
        editButton.addEventListener('click', (e) => {
          e.stopPropagation();
          editSentence(index);
        });
        actionsDiv.appendChild(editButton);
        
        // Delete Button
        const deleteButton = document.createElement('button');
        deleteButton.classList.add('sentence-btn', 'delete-button');
        deleteButton.innerHTML = '<i class="fas fa-trash"></i>';
        deleteButton.setAttribute('aria-label', `Delete sentence: ${sentence}`);
        deleteButton.addEventListener('click', (e) => {
          e.stopPropagation();
          deleteSentence(index);
        });
        actionsDiv.appendChild(deleteButton);
        
        li.appendChild(actionsDiv);
        
        // Click to display
        li.addEventListener('click', () => {
          textContainer.textContent = sentence;
        });
        
        correctWordsList.appendChild(li);
      });
    }

    // Edit sentence
    function editSentence(index) {
      const newSentence = prompt('Edit sentence:', sentences[index]);
      if (newSentence !== null) {
        if (newSentence.trim()) {
          sentences[index] = newSentence.trim();
          saveSentences();
          renderSentences();
        } else {
          showMessage('Sentence cannot be empty.');
        }
      }
    }

    // Delete sentence
    function deleteSentence(index) {
      if (confirm('Are you sure you want to delete this sentence?')) {
        sentences.splice(index, 1);
        saveSentences();
        renderSentences();
      }
    }

    // Start slideshow
    function startSlideshow() {
      if (sentences.length === 0) {
        showMessage('No sentences available for slideshow.');
        return;
      }
      slideshowIndex = 0;
      slideshowContainer.style.display = 'flex';
      displaySlide();
      
      // Set to auto mode by default
      isAutoMode = true;
      modeToggle.innerHTML = '<i class="fas fa-sync"></i>';
      
      // Start auto slideshow
      clearInterval(slideshowInterval);
      slideshowInterval = setInterval(displayNextSlide, SLIDESHOW_INTERVAL);
      
      pauseResumeButton.innerHTML = '<i class="fas fa-pause"></i>';
      isSlideshowPaused = false;
      updateControlsVisibility();
    }

    // Display current slide
    function displaySlide() {
      slideshowText.textContent = sentences[slideshowIndex];
      updateSlideIndicator();
    }
    
    // Display next slide
    function displayNextSlide() {
      if (sentences.length === 0) {
        stopSlideshow();
        showMessage('No sentences available.');
        return;
      }
      slideshowIndex = (slideshowIndex + 1) % sentences.length;
      displaySlide();
    }
    
    // Display previous slide
    function displayPrevSlide() {
      if (sentences.length === 0) return;
      slideshowIndex = (slideshowIndex - 1 + sentences.length) % sentences.length;
      displaySlide();
    }
    
    // Update slide indicator
    function updateSlideIndicator() {
      slideIndicator.textContent = `${slideshowIndex + 1}/${sentences.length}`;
    }

    // Pause or resume slideshow
    function togglePauseResume() {
      if (isSlideshowPaused) {
        if (isAutoMode) {
          slideshowInterval = setInterval(displayNextSlide, SLIDESHOW_INTERVAL);
        }
        pauseResumeButton.innerHTML = '<i class="fas fa-pause"></i>';
        isSlideshowPaused = false;
      } else {
        clearInterval(slideshowInterval);
        pauseResumeButton.innerHTML = '<i class="fas fa-play"></i>';
        isSlideshowPaused = true;
      }
    }
    
    // Toggle between auto and manual modes
    function toggleMode() {
      isAutoMode = !isAutoMode;
      
      if (isAutoMode) {
        modeToggle.innerHTML = '<i class="fas fa-sync"></i>';
        if (!isSlideshowPaused) {
          slideshowInterval = setInterval(displayNextSlide, SLIDESHOW_INTERVAL);
        }
      } else {
        modeToggle.innerHTML = '<i class="fas fa-hand-pointer"></i>';
        clearInterval(slideshowInterval);
      }
      
      updateControlsVisibility();
    }
    
    // Update controls visibility based on mode
    function updateControlsVisibility() {
      if (isAutoMode) {
        prevButton.style.display = 'none';
        nextButton.style.display = 'none';
        pauseResumeButton.style.display = 'flex';
      } else {
        prevButton.style.display = 'flex';
        nextButton.style.display = 'flex';
        pauseResumeButton.style.display = 'none';
        // Ensure we're not paused in manual mode
        isSlideshowPaused = false;
        pauseResumeButton.innerHTML = '<i class="fas fa-pause"></i>';
      }
    }

    // Stop slideshow
    function stopSlideshow() {
      clearInterval(slideshowInterval);
      slideshowContainer.style.display = 'none';
      isSlideshowPaused = false;
      inputField.focus();
    }

    // Initialize the app
    function initApp() {
      renderSentences();
      
      // Add pulsating animation to the process button
      processButton.classList.add('pulse');
      
      // Focus the input field
      inputField.focus();
    }

    // Event Listeners
    inputField.addEventListener('keyup', (e) => {
      if (e.key === 'Enter') {
        processInput();
      }
    });

    processButton.addEventListener('click', () => {
      processInput();
    });

    function processInput() {
      if (isProcessing) return;
      isProcessing = true;
      const input = inputField.value.trim();
      const error = validateInput(input);
      if (error) {
        alert(error);
        isProcessing = false;
        return;
      }
      const words = input.split(',').map(word => word.trim()).filter(word => word);
      generateButtons(words);
      inputField.value = '';
      isProcessing = false;
    }

    clearButton.addEventListener('click', () => {
      textContainer.textContent = 'Create your sentence here...';
    });

    saveButton.addEventListener('click', () => {
      const sentence = textContainer.textContent;
      if (!sentence || sentence === 'Create your sentence here...') {
        alert('No sentence to save.');
        return;
      }
      sentences.push(sentence);
      saveSentences();
      renderSentences();
      textContainer.textContent = 'Create your sentence here...';
    });

    slideshowButton.addEventListener('click', () => {
      startSlideshow();
    });

    pauseResumeButton.addEventListener('click', () => {
      togglePauseResume();
    });

    stopSlideshowButton.addEventListener('click', () => {
      stopSlideshow();
    });
    
    prevButton.addEventListener('click', () => {
      displayPrevSlide();
    });
    
    nextButton.addEventListener('click', () => {
      displayNextSlide();
    });
    
    modeToggle.addEventListener('click', () => {
      toggleMode();
    });

    // Initialize the app when the page loads
    window.addEventListener('DOMContentLoaded', initApp);
  </script>
</body>
</html>